{"version":3,"sources":["components/collection item/CollectionItem.js","components/preview collection/PreviewCollection.js","redux/shop/shopSelector.js","components/collection overview/CollectionOverview.js","pages/collection/Collection.js","pages/shop page/ShopPage.js"],"names":["mapStateToProps","createStructuredSelector","getCurrentUser","withRouter","connect","dispatch","addItem","item","history","name","price","imageUrl","className","style","backgroundImage","onClick","inverted","push","PreviewCollection","title","items","to","toLowerCase","filter","i","map","key","id","getShopCollections","createSelector","state","shopReducer","shop","collections","collectionValues","Object","values","otherProps","props","selectCollection","params","match","collectionid","fetchCollectionsStart","useEffect","Spinner","exact","path","url","component","CollectionOverview","Collection"],"mappings":"mNAoCA,IAIMA,EAAkBC,YAAyB,CAC/CC,qBAGaC,cACbC,YAAQJ,GATiB,SAAAK,GAAQ,MAAK,CACtCC,QAAS,SAAAC,GAAI,OAAIF,EAASC,YAAQC,QAQlCH,EApCF,YAAqE,IAA3CG,EAA0C,EAA1CA,KAAMD,EAAoC,EAApCA,QAASJ,EAA2B,EAA3BA,eAAgBM,EAAW,EAAXA,QAC/CC,EAA0BF,EAA1BE,KAAMC,EAAoBH,EAApBG,MAAOC,EAAaJ,EAAbI,SACrB,OACE,yBAAKC,UAAU,mBACb,yBACEA,UAAU,QACVC,MAAO,CACLC,gBAAgB,OAAD,OAASH,EAAT,QAGnB,yBAAKC,UAAU,qBACb,8BAAOH,GACP,kCAAQC,IAETR,EACC,kBAAC,IAAD,CAAQa,QAAS,kBAAMT,EAAQC,IAAOS,UAAQ,GAA9C,eAIA,kBAAC,IAAD,CAAQD,QAAS,kBAAMP,EAAQS,KAAK,YAAYD,UAAQ,GAAxD,uB,gBCvBO,SAASE,EAAT,GAA8C,IAAjBC,EAAgB,EAAhBA,MAAOC,EAAS,EAATA,MACjD,OACE,yBAAKR,UAAU,sBACb,wBAAIA,UAAU,SACZ,kBAAC,IAAD,CAAMS,GAAE,eAAUF,EAAMG,gBAAkBH,IAE5C,yBAAKP,UAAU,WACZQ,EACEG,QAAO,SAAChB,EAAMiB,GAAP,OAAaA,EAAI,KACxBC,KAAI,SAAAlB,GAAI,OACP,kBAAC,EAAD,CAAgBmB,IAAKnB,EAAKoB,GAAIpB,KAAMA,SCbhD,IAEaqB,EAAqBC,YAChC,CAHgB,SAAAC,GAAK,OAAIA,EAAMC,eAI/B,SAAAC,GAAI,OAAIA,EAAKC,eAGFC,EAAmBL,YAC9B,CAACD,IACD,SAAAK,GAAW,OAAIE,OAAOC,OAAOH,MCI/B,IAIe7B,eAJS,SAAA0B,GAAK,MAAK,CAChCG,YAAaC,EAAiBJ,MAGjB1B,EAdf,YAA8C,IAAhB6B,EAAe,EAAfA,YAC5B,OACE,6BACGA,EAAYR,KAAI,gBAAGE,EAAH,EAAGA,GAAOU,EAAV,6BACf,kBAACnB,EAAD,eAAmBQ,IAAKC,GAAQU,W,MCWxC,IAIejC,eAJS,SAAC0B,EAAOQ,GAAR,MAAmB,CACzCC,kBFP8BC,EEOKF,EAAMG,MAAMD,OAAOE,aFNtDb,YACE,CAACD,IACD,SAAAK,GAAW,OAAIA,EAAYO,OEIuCV,IFPtC,IAAAU,IEUjBpC,EAlBf,YAA2C,IAArBmC,EAAoB,EAApBA,iBACZpB,EAAiBoB,EAAjBpB,MAAOC,EAAUmB,EAAVnB,MACf,OACE,yBAAKR,UAAU,mBACb,wBAAIA,UAAU,SAASO,GACvB,yBAAKP,UAAU,SACZQ,EAAMK,KAAI,SAAAlB,GAAI,OACb,kBAAC,EAAD,CAAgBmB,IAAKnB,EAAKoB,GAAIpB,KAAMA,Y,gBCuB/BH,uBAJD,SAAA0B,GAAK,MAAK,CACtBF,mBAAoBA,EAAmBE,OALd,SAAAzB,GAAQ,MAAK,CACtCsC,sBAAuB,kBAAMtC,EAASsC,mBAOzBvC,EA3Bf,YAAyE,IAArDuC,EAAoD,EAApDA,sBAAuBF,EAA6B,EAA7BA,MAAOb,EAAsB,EAAtBA,mBAKhD,OAJAgB,qBAAU,WACRD,MACC,CAACA,IAGF,oCAC0B,KAAvBf,EACC,kBAACiB,EAAA,EAAD,MAEA,oCACE,kBAAC,IAAD,CAAOC,OAAK,EAACC,KAAI,UAAKN,EAAMO,KAAOC,UAAWC,IAC9C,kBAAC,IAAD,CAAOH,KAAI,UAAKN,EAAMO,IAAX,kBAAgCC,UAAWE,U","file":"static/js/4.30b774e8.chunk.js","sourcesContent":["import React from \"react\";\r\nimport \"./style.scss\";\r\nimport Button from \"../button/button\";\r\nimport { connect } from \"react-redux\";\r\nimport { addItem } from \"../../redux/cart/cartActions\";\r\nimport { getCurrentUser } from \"../../redux/user/userSelector\";\r\nimport { createStructuredSelector } from \"reselect\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction CollectionItem({ item, addItem, getCurrentUser, history }) {\r\n  const { name, price, imageUrl } = item;\r\n  return (\r\n    <div className=\"collection-item\">\r\n      <div\r\n        className=\"image\"\r\n        style={{\r\n          backgroundImage: `url(${imageUrl})`\r\n        }}\r\n      />\r\n      <div className=\"collection-footer\">\r\n        <span>{name}</span>\r\n        <span>${price}</span>\r\n      </div>\r\n      {getCurrentUser ? (\r\n        <Button onClick={() => addItem(item)} inverted>\r\n          ADD TO CART\r\n        </Button>\r\n      ) : (\r\n        <Button onClick={() => history.push(\"/signin\")} inverted>\r\n          SIGN IN TO BUY\r\n        </Button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  addItem: item => dispatch(addItem(item))\r\n});\r\n\r\nconst mapStateToProps = createStructuredSelector({\r\n  getCurrentUser\r\n});\r\n\r\nexport default withRouter(\r\n  connect(mapStateToProps, mapDispatchToProps)(CollectionItem)\r\n);\r\n","import React from \"react\";\r\nimport CollectionItem from \"../collection item/CollectionItem\";\r\nimport \"./style.scss\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport default function PreviewCollection({ title, items }) {\r\n  return (\r\n    <div className=\"collection-preview\">\r\n      <h1 className=\"title\">\r\n        <Link to={`shop/${title.toLowerCase()}`}>{title}</Link>\r\n      </h1>\r\n      <div className=\"preview\">\r\n        {items\r\n          .filter((item, i) => i < 4)\r\n          .map(item => (\r\n            <CollectionItem key={item.id} item={item} />\r\n          ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { createSelector } from \"reselect\";\r\n\r\nconst shopState = state => state.shopReducer;\r\n\r\nexport const getShopCollections = createSelector(\r\n  [shopState],\r\n  shop => shop.collections\r\n);\r\n\r\nexport const collectionValues = createSelector(\r\n  [getShopCollections],\r\n  collections => Object.values(collections)\r\n);\r\n\r\nexport const selectCollection = params =>\r\n  createSelector(\r\n    [getShopCollections],\r\n    collections => collections[params]\r\n  );\r\n","import React from \"react\";\r\nimport PreviewCollection from \"../preview collection/PreviewCollection\";\r\nimport { connect } from \"react-redux\";\r\nimport { collectionValues } from \"../../redux/shop/shopSelector\";\r\n\r\nfunction CollectionOverview({ collections }) {\r\n  return (\r\n    <div>\r\n      {collections.map(({ id, ...otherProps }) => (\r\n        <PreviewCollection key={id} {...otherProps} />\r\n      ))}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  collections: collectionValues(state)\r\n});\r\n\r\nexport default connect(mapStateToProps)(CollectionOverview);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { selectCollection } from \"../../redux/shop/shopSelector\";\r\nimport CollectionItem from \"../../components/collection item/CollectionItem\";\r\nimport \"./style.scss\";\r\n\r\nfunction Collection({ selectCollection }) {\r\n  const { title, items } = selectCollection;\r\n  return (\r\n    <div className=\"collection-page\">\r\n      <h2 className=\"title\">{title}</h2>\r\n      <div className=\"items\">\r\n        {items.map(item => (\r\n          <CollectionItem key={item.id} item={item} />\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = (state, props) => ({\r\n  selectCollection: selectCollection(props.match.params.collectionid)(state)\r\n});\r\n\r\nexport default connect(mapStateToProps)(Collection);\r\n","import React, { useEffect } from \"react\";\r\nimport CollectionOverview from \"../../components/collection overview/CollectionOverview\";\r\nimport { Route } from \"react-router-dom\";\r\nimport Collection from \"../collection/Collection\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchCollectionsStart } from \"../../redux/shop/shopActions\";\r\nimport Spinner from \"../../components/spinner/Spinner\";\r\nimport { getShopCollections } from \"../../redux/shop/shopSelector\";\r\n\r\nfunction ShopPage({ fetchCollectionsStart, match, getShopCollections }) {\r\n  useEffect(() => {\r\n    fetchCollectionsStart();\r\n  }, [fetchCollectionsStart]);\r\n\r\n  return (\r\n    <>\r\n      {getShopCollections === \"\" ? (\r\n        <Spinner />\r\n      ) : (\r\n        <>\r\n          <Route exact path={`${match.url}`} component={CollectionOverview} />\r\n          <Route path={`${match.url}/:collectionid`} component={Collection} />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nconst mapDispatchToProps = dispatch => ({\r\n  fetchCollectionsStart: () => dispatch(fetchCollectionsStart())\r\n});\r\n\r\nconst state = state => ({\r\n  getShopCollections: getShopCollections(state)\r\n});\r\n\r\nexport default connect(state, mapDispatchToProps)(ShopPage);\r\n"],"sourceRoot":""}